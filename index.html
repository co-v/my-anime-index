<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Anime Index (Legal links only)</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8; --glass: rgba(255,255,255,0.03);
      --radius:14px; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0; min-height:100vh; background:linear-gradient(180deg,#071023 0%, #071f2e 100%); color:#e6eef6}
    .wrap{max-width:1100px;margin:32px auto;padding:20px}
    header{display:flex;align-items:center;gap:16px;margin-bottom:20px}
    .logo{width:54px;height:54px;background:linear-gradient(135deg,var(--accent),#7c3aed);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700}
    h1{font-size:1.35rem;margin:0}
    p.lead{margin:4px 0 0;color:var(--muted);font-size:0.95rem}
    .search-row{display:flex;gap:12px;margin:18px 0}
    .search-row input{flex:1;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:var(--glass);color:inherit}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--radius);padding:12px;border:1px solid rgba(255,255,255,0.03)}
    .thumb{width:100%;height:140px;border-radius:10px;object-fit:cover;background:#0a0f17}
    .title{font-weight:600;margin:8px 0 4px}
    .meta{color:var(--muted);font-size:0.9rem;margin-bottom:8px}
    .btn-row{display:flex;gap:8px;flex-wrap:wrap}
    .btn{padding:8px 10px;border-radius:10px;text-decoration:none;font-size:0.9rem;border:1px solid rgba(255,255,255,0.05);background:transparent;color:inherit}
    .btn--primary{background:var(--accent);color:#022029;border:none}
    footer{margin-top:22px;color:var(--muted);font-size:0.85rem}
    /* modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.55)}
    .modal.show{display:flex}
    .modal .panel{width:90%;max-width:840px;background:#071428;padding:16px;border-radius:12px}
    .video-wrap{aspect-ratio:16/9;background:#000;border-radius:8px;overflow:hidden}
    @media (max-width:520px){ .thumb{height:120px} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">A</div>
      <div>
        <h1>My Anime Index</h1>
        <p class="lead">Only links to official/legal streaming platforms and trailers.</p>
      </div>
    </header>

    <div class="search-row">
      <input id="q" placeholder="Search title (example: Naruto, Attack on Titan)" />
      <button id="clear" class="btn">Clear</button>
    </div>

    <div class="grid" id="grid">
      <!-- Cards injected by JS -->
    </div>

    <footer>
      Tip: replace the links with official pages available in your country (Crunchyroll, Netflix, Hulu, Funimation, Amazon Prime Video, HiDive, Tubi, RetroCrush, YouTube).
    </footer>
  </div>

  <!-- Trailer modal -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="panel">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <strong id="modalTitle">Trailer</strong>
        <button id="closeModal" class="btn">Close</button>
      </div>
      <div class="video-wrap" id="videoWrap"></div>
    </div>
  </div>

  <script>
    // Sample data — update to point to legal pages in your country.
    const shows = [
      {
        title: "Naruto",
        year: "2002",
        thumb: "https://i.imgur.com/3ZQ3ZQZ.jpg",
        trailer: "https://www.youtube.com/embed/1Xo3m5xg6zU",
        links: [
          {label:"Crunchyroll", url:"https://www.crunchyroll.com/series/GYVJ6ZP2W/naruto"},
          {label:"Netflix", url:"https://www.netflix.com/"},
        ]
      },
      {
        title: "Attack on Titan",
        year: "2013",
        thumb: "https://i.imgur.com/ZZzGZzZ.jpg",
        trailer: "https://www.youtube.com/embed/MGRm4IzK1SQ",
        links: [
          {label:"Crunchyroll", url:"https://www.crunchyroll.com/series/GR8PZ1Y9R/attack-on-titan"},
          {label:"Funimation", url:"https://www.funimation.com/"} 
        ]
      },
      {
        title: "My Hero Academia",
        year: "2016",
        thumb: "https://i.imgur.com/aaAaaAA.jpg",
        trailer: "https://www.youtube.com/embed/5bE5zVScIyI",
        links: [
          {label:"Crunchyroll", url:"https://www.crunchyroll.com/series/GYVJ6ZP2W/my-hero-academia"},
          {label:"Hulu", url:"https://www.hulu.com/"}
        ]
      }
    ];

    const grid = document.getElementById('grid');
    const modal = document.getElementById('modal');
    const videoWrap = document.getElementById('videoWrap');
    const modalTitle = document.getElementById('modalTitle');
    const closeModal = document.getElementById('closeModal');
    const q = document.getElementById('q');
    const clear = document.getElementById('clear');

    function createCard(s){
      const card = document.createElement('div'); card.className='card';
      card.innerHTML = `
        <img class="thumb" src="${s.thumb}" alt="${s.title} poster" loading="lazy" />
        <div class="title">${s.title}</div>
        <div class="meta">${s.year}</div>
        <div class="btn-row">
          <a class="btn btn--primary" data-trailer="${s.trailer}" role="button">Watch Trailer</a>
          ${s.links.map(l=>`<a class="btn" href="${l.url}" target="_blank" rel="noopener">${l.label}</a>`).join('')}
        </div>
      `;
      // trailer click
      const trailerBtn = card.querySelector('[data-trailer]');
      trailerBtn?.addEventListener('click', (e)=>{
        const t = e.currentTarget.getAttribute('data-trailer');
        openTrailer(s.title, t);
      });
      return card;
    }

    function render(list){
      grid.innerHTML='';
      if(list.length===0){
        grid.innerHTML = '<div style="color:var(--muted)">No results — try another search.</div>';
        return;
      }
      list.forEach(s=>grid.appendChild(createCard(s)));
    }

    function openTrailer(title, src){
      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      modalTitle.textContent = title + " — Trailer";
      videoWrap.innerHTML = `<iframe width="100%" height="100%" src="${src}?autoplay=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
    }

    function close(){
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      videoWrap.innerHTML='';
    }

    closeModal.addEventListener('click', close);
    modal.addEventListener('click', (ev)=>{ if(ev.target===modal) close(); });
    q.addEventListener('input', ()=> {
      const val = q.value.trim().toLowerCase();
      render(shows.filter(s=> s.title.toLowerCase().includes(val)));
    });
    clear.addEventListener('click', ()=>{ q.value=''; render(shows); });

    // initial render
    render(shows);
  </script>
</body>
</html>
